/*! For license information please see main.db795e5f.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),a=n(950);function o(e){var t="https://9288f569-0677-4d9b-be8b-ea493fe67e0e.preview.emergentagent.com","/api");const Xu=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(f()),[a,o]=(0,i.useState)((()=>{const e=localStorage.getItem("elva-theme");return!e||"dark"===e})),[s,l]=(0,i.useState)({authenticated:!1,loading:!0,credentialsConfigured:!1,error:null,debugInfo:null}),[u,d]=(0,i.useState)(!1);function f(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}(0,i.useEffect)((()=>{const e=localStorage.getItem("elva-theme");!e||"dark"===e?(document.documentElement.classList.add("dark-theme"),document.documentElement.classList.remove("light-theme")):(document.documentElement.classList.add("light-theme"),document.documentElement.classList.remove("dark-theme"))}),[]),(0,i.useEffect)((()=>{p(),0===e.length&&h()}),[n]);const h=()=>{const e=s.authenticated?"\n\n\ud83c\udf89 **Gmail is connected!** I can now help you with:\n\u2022 \ud83d\udce7 Check your Gmail inbox\n\u2022 \u2709\ufe0f Send emails\n\u2022 \ud83d\udce8 Read specific emails\n\u2022 \ud83d\udd0d Search your messages":"\n\n\ud83d\udca1 **Tip:** Connect Gmail above for email assistance!",n={id:"welcome_"+Date.now(),response:"Hi Buddy \ud83d\udc4b Good to see you! Elva AI at your service. Ask me anything or tell me what to do!"+e,isUser:!1,isWelcome:!0,timestamp:new Date};t([n])},p=async()=>{try{const e=(await Nt.get("".concat(Yu,"/history/").concat(n))).data.messages||[];0===e.length?h():t(e.map((e=>c(c({},e),{},{isUser:!1,timestamp:new Date(e.timestamp)}))))}catch(e){console.error("Error loading chat history:",e),h()}},m=Ku({gmailAuthStatus:s,setGmailAuthStatus:l,sessionId:n,setMessages:t});return(0,Rt.jsxs)("div",{className:"min-h-screen chat-background text-white",children:[(0,Rt.jsx)("div",{className:"glassy-header shadow-lg",children:(0,Rt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between relative z-10",children:[(0,Rt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Rt.jsxs)("div",{className:"logo-container",children:[(0,Rt.jsx)("img",{src:"/logo.svg",alt:"Elva AI Logo",className:"elva-logo",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),(0,Rt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-lg",style:{display:"none"},children:"E"})]}),(0,Rt.jsxs)("div",{children:[(0,Rt.jsx)("h1",{className:"text-3xl font-bold smooth-glow-title",children:"Elva AI"}),(0,Rt.jsx)(Ot,{})]})]}),(0,Rt.jsx)("div",{className:"flex items-center space-x-4",children:(0,Rt.jsx)(qu,{showDropPanel:u,setShowDropPanel:d,toggleTheme:()=>{const e=!a;o(e),localStorage.setItem("elva-theme",e?"dark":"light"),e?(document.documentElement.classList.remove("light-theme"),document.documentElement.classList.add("dark-theme")):(document.documentElement.classList.remove("dark-theme"),document.documentElement.classList.add("light-theme"))},isDarkTheme:a,exportChat:()=>{const t=e.map((e=>"".concat(e.isUser?"User":"AI",": ").concat(e.message||e.response))).join("\n\n"),n=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="elva-chat-".concat((new Date).toISOString().split("T")[0],".txt"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r),d(!1)},startNewChat:()=>{r(f()),t([]),d(!1)},gmailAuthStatus:s,initiateGmailAuth:m.initiateGmailAuth})})]})}),(0,Rt.jsx)("div",{className:"premium-chat-container flex-1 flex",children:(0,Rt.jsx)(Gu,{sessionId:n,gmailAuthStatus:s,setGmailAuthStatus:l,messages:e,setMessages:t})})]})};a.createRoot(document.getElementById("root")).render((0,Rt.jsx)(i.StrictMode,{children:(0,Rt.jsx)(Xu,{})}))})();
//# sourceMappingURL=main.db795e5f.js.map